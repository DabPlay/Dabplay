<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Convertidor COP → VES</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="card">
    <div class="section">
      <h3>Tú envías</h3>
      <input type="number" id="monto" placeholder="0" min="10000" />
      <div class="currency-label">🇨🇴 COP</div>
    </div>

    <div class="section">
      <h3>Tu contacto recibe</h3>
      <div class="result"><span id="resultado">0.00</span></div>
      <div class="currency-label">🇻🇪 VES</div>
    </div>

    <div class="summary">
      <div><span>💸 Costo de envío:</span><span id="costoEnvio">-</span></div>
      <div><span>💰 Monto a convertir:</span><span id="montoConvertir">-</span></div>
      <div><span>🔄 Tipo de cambio:</span><span id="tipoCambio">-</span></div>
    </div>

    <div class="footer">
      ⏳ Tu dinero debería llegar el <b id="fechaEntrega">...</b>
    </div>

    <button class="button" onclick="abrirModal()">Iniciar Transacción</button>
    <div class="lock">
      ⚠️ Al iniciar transacción aceptas el valor que muestra el resultado.<br />
      El valor puede variar dependiendo de la tasa del día.
    </div>
  </div>

  <div id="modal" class="modal">
    <div class="modal-content">
      <span class="cerrar" onclick="cerrarModal()">✖</span>
      <h2>Datos de la Transacción</h2>

      <h3>👤 Cliente que recibe (Venezuela)</h3>
      <input type="text" id="nombre" placeholder="Nombre" />
      <input type="text" id="apellido" placeholder="Apellido" />

      <select id="bancoVe" onchange="actualizarCamposBancoVE()">
        <option value="">Seleccione tipo de banco</option>
        <option value="banesco">Banesco</option>
        <option value="venezuela">Banco de Venezuela</option>
        <option value="pagoMovil">Pago Móvil</option>
      </select>
      <div id="camposVE"></div>

      <input style="display: none;" type="text" id="cuentaReceptor" placeholder="Número de cuenta o teléfono" maxlength="20" />

      <h3>💵 Persona que paga (Colombia)</h3>
      <input type="text" id="nombrePagador" placeholder="Nombre del pagador" />
      <input type="text" id="telefono" placeholder="Teléfono" maxlength="10" />

      <select id="bancoCo" onchange="actualizarCamposBancoCO()">
        <option value="">Seleccione medio de pago</option>
        <option value="nequi">Nequi</option>
        <option value="daviplata">Daviplata</option>
        <option value="bancolombia">Bancolombia</option>
        <option value="qr">Código QR</option>
      </select>
      <div id="camposCO"></div>

      <strong>📌 Comprobante de pago</strong>
      <input type="file" id="fileInput" accept="image/*" />
      <div id="preview"></div>

      <button class="button" onclick="confirmarEnvio()">Confirmar Envío</button>
      <div class="lock">
        ⚠️ Al confirmar, aceptas el valor mostrado y los datos ingresados.
      </div>
    </div>
  </div>

  <div id="lightboxOverlay">
    <img src="" alt="Vista ampliada" />
  </div>

  <!-- Supabase SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
  <script src="script.js"></script>

  <!-- Botón de WhatsApp -->
<a href="https://wa.me/573506463582?text=Hola%2C%20quiero%20hacer%20una%20conversión%20de%20COP%20a%20VES" 
   class="whatsapp-button" target="_blank" aria-label="WhatsApp Chat">
  <img src="https://icongr.am/fontawesome/whatsapp.svg?size=40&color=ffffff" alt="WhatsApp" />
</a>


</body>
</html>
